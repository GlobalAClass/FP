<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 <mapper namespace="checkMonCommute">
 	<select id="getCommuteAllListSQL" parameterType="hashmap" resultType="com.ateam.checkMon.empCommute.model.EmpCommuteAllDTO">
 		<![CDATA[
		select * from
		(select rownum as rnum, a.* from 
		(select a.emp_commute_ix,a.emp_ix,a.worktime,a.leavetime,a.workday,a.daytime,a.state,b.emp_change_ix,b.c_worktime,b.c_leavetime,b.title,b.reason,b.progress,b.c_return 
		from emp_commute_tb a,emp_change_tb b where a.emp_commute_ix=b.emp_commute_ix)a)b 
		where rnum>=((#{cp}-1)*#{listsize}+1) and emp_ix=#{emp_ix} and
		rnum<=#{cp}*#{listsize}]]>
 	</select>
 	<select id="commuteListSizeSQL" resultType="Integer">
 		select count(emp_ix) as total 
 		from emp_commute_tb
 	</select>
 </mapper>