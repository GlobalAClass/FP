<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="checkMonMember">
	<insert id="addEmpJoinSQL" parameterType="com.ateam.checkMon.member.model.EmpDTO">
		insert into
			Emp_TB
		values(
			Emp_TB_SEQ.nextval,
			0,
			#{eemail},
			#{epwd},
			#{ename},
			#{etel},
			#{ebirthDay},
			null,
			null,
			null
		)
	</insert>
	
	<select id="empIdCheckSQL" parameterType="String" resultType="String">
		select E_EMAIL from EMP_TB 
		where E_EMAIL=#{eemail}
	</select>
	
	<insert id="addManJoinSQL" parameterType="com.ateam.checkMon.member.model.ManDTO">
		insert into
			Man_TB
		values(
			Man_TB_SEQ.nextval,
			#{memail},
			#{mpwd},
			#{mname},
			#{mtel},
			#{cornum},
			#{storeIx}
		)
	</insert>
	
	<select id="getNextStoreIxSQL" resultType="int">
		select store_tb_seq.nextval from dual
	</select>
	
	<insert id="addStoreManJoinSQL" parameterType="com.ateam.checkMon.member.model.StoreDTO">
		insert into
			Store_TB
		values(
			#{storeIx},
			#{storename},
			#{storeaddr},
			#{mlatitude},
			#{mlongitude}
		)
	</insert>
	
	<select id="manIdCheckSQL" parameterType="String" resultType="String">
		select M_EMAIL from Man_TB 
		where M_EMAIL=#{memail}
	</select>
	
	<select id="empLoginSQL" parameterType="map" resultType="com.ateam.checkMon.member.model.EmpDTO">
		select e_email,e_pwd
		from emp_tb
		where e_email=#{eemail}
	</select>
	
	<select id="empNameSQL" parameterType="String" resultType="String">
		select e_name
		from emp_tb
		where e_email=#{eemail}
	</select>
	
	<select id="manLoginSQL" parameterType="map" resultType="com.ateam.checkMon.member.model.ManDTO">
		select m_email,m_pwd
		from man_tb
		where m_email=#{memail}
	</select>
	
	<select id="manNameSQL" parameterType="String" resultType="String">
		select m_name
		from man_tb
		where m_email=#{memail}
	</select>
	
</mapper>